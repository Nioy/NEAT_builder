<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"></script>
  <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.min.js"></script>
  <script language="javascript" type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script language="javascript" type="text/javascript" src="https://unpkg.com/mathjs@4.2.2/dist/math.js"></script>
  <script language="javascript" type="text/javascript" src="../neural_network/NeuralNetwork.js"></script>
  <script language="javascript" type="text/javascript" src="../math/Matrix.js"></script>
  <script language="javascript" type="text/javascript" src="main.js"></script>
  <script language="javascript" type="text/javascript" src="../GeneticAlgorithm/GeneticAlgorithm.js"></script>
  <script language="javascript" type="text/javascript" src="agent.js"></script>
  <script language="javascript" type="text/javascript" src="pipe.js"></script>

</head>

<body>
  <div id="canvascontainer"></div>
  <p>
    speed: <input id="speedSlider" type="range" min="1" max="10" value="1"> <span id="speed">1</span>
    <br/> high score: <span id="hs">0</span>
    <br/> all time high score: <span id="ahs">0</span>
  </p>
  <p>
    <button id="best">run best so far</button>
  </p>
  <p>
    
    <h3>Bird variables</h3>
    <ul>
      <li>bird.x - Bird X position (Defined between 0 and the game.width)</li>
      <li>bird.y - Bird Y position (Defined between 0 and the game.height)</li>
      <li>bird.velocity - Bird velocity (velocity in the Y position is -5 and Max 5)</li>
      <li>bird.maxVelocity - Bird maximum velocity (5)</li>
      <li>bird.minVelocity - Bird minimum velocity (-5)</li>
    </ul>
      
      <br/>
    
    <h3>Pipes variables</h3>
      <ul>
        <li>pipes.closest.x (Closest x pipe)</li>
        <li>pipes.closest.bottom (Closest pipe bottom entrance)</li>
        <li>pipes.closest.top (Closes pipe top entrance)</li>
        <li>pipes.closest.width (Closest pipe width)</li>
      </ul>
      
    <br/>
    <h3>Game</h3>
    <ul>
      <li>game.height (Height size of game canvas)</li>
      <li>game.width (Width size of game canvas)</li>
    </ul>

  </p>
  <div id="NNParams">
    <label>Neural Network</label><br/>
    <label>Inputs</label>
    <input type="range" id="inputLayers" min="1" max="10" step="1" placeholder="Input Layers"/>
    <div id="inputList">

    </div>
    <input type="text" id="hiddenLayers" placeholder="Hidden Layers"/>
    <input type="text" id="learningRate" placeholder="Learning Rate"/>
    <p>FIXED Output layers: 2 (jump or do nothing)</p>
  </div>
  <div id="GAParams">
    <label>Genetic Algorithm</label>
    <input type="text" id="generationSize" placeholder="Species per generation"/>
    <input type="text" id="mutationRate" placeholder="MutationRate"/>
  </div>
  <div>
    <button id="startGame">Start</button>
  </div>
  <script>
    $('#inputLayers').change(function(){
      let amountInputLayers = $('#inputLayers').val();
      $('#inputList').html('');
      for (let i = 0; i < amountInputLayers; i++){
        $('#inputList').append(`<input type="text" id="input${i}" placeholder="Type your input variable"/>`);
      }
    });
    $('#startGame').on('click', function(){
      let game = new p5(flappyBird);
    });
  </script>
</body>

</html>